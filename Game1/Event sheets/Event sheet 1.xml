<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="jumpValue" sid="248890516633318" static="0" type="number">0</variable>
        <variable comment="Record collection of items to escape" constant="0" name="Keys" sid="622748276877812" static="0" type="number">0</variable>
        <event-block sid="639649187273854">
            <conditions>
                <condition id="-14" name="Compare variable" sid="134515300768334" type="System">
                    <param id="0" name="Variable">Keys</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">3</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="216023786165031" type="Lock" />
                <action id="4" name="Set animation" sid="796531281847872" type="LockedDoor">
                    <param id="0" name="Animation">&quot;OPEN&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="283910310310314">
            <conditions>
                <condition id="-2" name="On start of layout" sid="911959934131540" type="System" />
            </conditions>
            <actions>
                <action id="-40" name="Set fullscreen scaling" sid="443428458527463" type="System">
                    <param id="0" name="Fullscreen scaling">1</param>
                </action>
                <action id="-28" name="Set canvas size" sid="167750681933180" type="System">
                    <param id="0" name="Width">1280</param>
                    <param id="1" name="Height">720</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="537857939930872" title="Player Interactions">
            <sub-events>
                <event-block sid="821883686116720">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="653237166840782" type="Player">
                            <param id="0" name="Object">DoorAlex</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="395451693643409" type="System">
                            <param id="0" name="Layout">LayoutAlex</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="879387011619779">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="792015795299115" type="Player">
                            <param id="0" name="Object">DoorJoey</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="336805997832521" type="System">
                            <param id="0" name="Layout">LayoutJoey</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="571259451665201">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="356662828895077" type="Player">
                            <param id="0" name="Object">DoorKyle</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="154075651260292" type="System">
                            <param id="0" name="Layout">LayerKyle</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="461042785883518">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="691070518529901" type="Player">
                            <param id="0" name="Object">DoorIan</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="147521996228396" type="System">
                            <param id="0" name="Layout">LayerIan</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="934954866490939">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="736697978294851" type="Player">
                            <param id="0" name="Object">DoorFinal</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="528007301209660" type="System">
                            <param id="0" name="Layout">End</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="485259331975789">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="283709546899920" type="Player">
                            <param id="0" name="Object">DoorMain</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="101703261435252" type="System">
                            <param id="0" name="Layout">LayoutMain</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="649503480737996">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="266543241450796" type="Player">
                            <param id="0" name="Object">DoorJoey2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="436932241972679" type="System">
                            <param id="0" name="Layout">LayoutJoey</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="149610022469117">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="476575022666104" type="Player">
                            <param id="0" name="Object">Chest1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="849247132935821" type="Chest1">
                            <param id="0" name="Animation">&quot;Open&quot;</param>
                            <param id="1" name="From">0</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="958308486136862" type="Chest1">
                            <param id="0" name="Object">Key</param>
                            <param id="1" name="Layer">Self.BBoxTop</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="847404061601834">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="461762643701126" type="Player">
                            <param id="0" name="Object">Door</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="423774281435854" type="Door">
                            <param id="0" name="Animation">&quot;Open&quot;</param>
                            <param id="1" name="From">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="303776324154147">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="422249046486193" type="Player">
                            <param id="0" name="Object">Key</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="725067036748161" type="Key" />
                        <action id="-10" name="Add to" sid="632739729944632" type="System">
                            <param id="0" name="Variable">Keys</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="518820997262839">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="935065158486502" type="Player">
                            <param id="0" name="Object">ScareTrigger</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="0" name="Stop" sid="457772003899405" type="Player" />
                        <action id="-9" name="Destroy" sid="232113577282229" type="ScareTrigger" />
                        <action id="0" name="Play" sid="362902104754333" type="Audio">
                            <param id="0" name="Audio file">scream</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">10</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-16" name="Wait" sid="781400493025249" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action behavior="ScrollTo" id="0" name="Shake" sid="984461113015515" type="Player">
                            <param id="0" name="Magnitude">50</param>
                            <param id="1" name="Duration">3</param>
                            <param id="2" name="Mode">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="249172109832206" type="System">
                            <param id="0" name="Variable">jumpValue</param>
                            <param id="1" name="Value">floor(random(0,3))</param>
                        </action>
                        <action id="-16" name="Wait" sid="716522836249154" type="System">
                            <param id="0" name="Seconds">3</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Any walking sounds, ambient sounds, etc. all will be grouped under here" sid="588122635990518" title="Sounds" />
        <event-group description="" sid="600400533847830" title="Player Sprite" />
        <event-block sid="427299622128509">
            <conditions>
                <condition behavior="8Direction" id="0" name="Is moving" sid="471962379559420" type="Player" />
                <condition id="-6" name="Every X seconds" sid="172369121970094" type="System">
                    <param id="0" name="Interval (seconds)">1/3</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Play" sid="483503239056267" type="Audio">
                    <param id="0" name="Audio file">Concrete 1</param>
                    <param id="2" name="Loop">0</param>
                    <param id="3" name="Volume">-15</param>
                    <param id="1" name="Tag (optional)">&quot;Footsteps&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="755492625983667">
            <conditions>
                <condition id="-2" name="On start of layout" sid="615367788145505" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Play" sid="596820058939666" type="Audio">
                    <param id="0" name="Audio file">soundtrack</param>
                    <param id="2" name="Loop">0</param>
                    <param id="3" name="Volume">-10</param>
                    <param id="1" name="Tag (optional)">&quot;Soundtrack&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="514615319068024">
            <conditions>
                <condition id="5" name="On any finished" sid="233070267725172" type="Player" />
            </conditions>
            <actions>
                <action id="3" name="Start" sid="223837340453019" type="Player">
                    <param id="0" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="508276372816977">
            <conditions>
                <condition id="0" name="On key pressed" sid="198669937484285" type="Keyboard">
                    <param id="0" name="Key">38</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="618697073337127" type="Player">
                    <param id="0" name="Animation">&quot;Up&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="556371629269583">
            <conditions>
                <condition id="0" name="On key pressed" sid="866514174303276" type="Keyboard">
                    <param id="0" name="Key">40</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="444542921019059" type="Player">
                    <param id="0" name="Animation">&quot;Down&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="146789189714879">
            <conditions>
                <condition id="0" name="On key pressed" sid="153491756948697" type="Keyboard">
                    <param id="0" name="Key">37</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="925234688647519" type="Player">
                    <param id="0" name="Animation">&quot;Left&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="249342068524814">
            <conditions>
                <condition id="0" name="On key pressed" sid="803734402644714" type="Keyboard">
                    <param id="0" name="Key">39</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="253220343114003" type="Player">
                    <param id="0" name="Animation">&quot;Right&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="433591244285189">
            <conditions>
                <condition id="0" name="On collision with another object" sid="349060672900245" type="Player">
                    <param id="0" name="Object">DoorMain2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="879446547119895" type="System">
                    <param id="0" name="Layout">LayoutMain</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="511335169651045">
            <conditions>
                <condition id="0" name="On collision with another object" sid="309412384805399" type="Player">
                    <param id="0" name="Object">DoorMain3</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="400519505208325" type="System">
                    <param id="0" name="Layout">LayoutMain</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="926435381431328">
            <conditions>
                <condition id="0" name="On collision with another object" sid="242445732968841" type="Player">
                    <param id="0" name="Object">DoorIan2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="494927147247486" type="System">
                    <param id="0" name="Layout">LayerIan</param>
                </action>
                <action id="4" name="Set animation" sid="368981595190881" type="Door">
                    <param id="0" name="Animation">&quot;Closed&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="169216984239240">
            <conditions>
                <condition id="-19" name="On destroyed" sid="837952144380530" type="Player" />
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="270838815874337" type="System" />
            </actions>
        </event-block>
        <event-block sid="313294045761681">
            <conditions>
                <condition id="0" name="On key pressed" sid="224351659693115" type="Keyboard">
                    <param id="0" name="Key">81</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Spawn another object" sid="961939972492186" type="Player">
                    <param id="0" name="Object">Arrow</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="160885145099088">
            <conditions>
                <condition id="0" name="On collision with another object" sid="576601229909496" type="Arrow">
                    <param id="0" name="Object">Monster</param>
                </condition>
            </conditions>
            <actions>
                <action id="-17" name="Move forward" sid="176541489172709" type="Monster">
                    <param id="0" name="Distance">-20</param>
                </action>
                <action id="-9" name="Destroy" sid="900193865060169" type="Arrow" />
            </actions>
        </event-block>
        <event-group description="" sid="195868961221427" title="Monster" />
        <event-block sid="773267867425430">
            <conditions>
                <condition id="-3" name="Is on-screen" sid="293240795378564" type="Monster" />
            </conditions>
            <actions>
                <action id="-22" name="Set angle toward position" sid="902347312680339" type="Monster">
                    <param id="0" name="X">Player.X</param>
                    <param id="1" name="Y">Player.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="255630186955198">
            <conditions>
                <condition id="-2" name="On start of layout" sid="786098354758500" type="System" />
            </conditions>
            <actions>
                <action id="-8" name="Set angle" sid="369907198682297" type="Monster">
                    <param id="0" name="Angle">random(360)</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="579823145666429">
            <conditions>
                <condition id="0" name="On collision with another object" sid="170458218800462" type="Monster">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="116930904301250" type="Player" />
            </actions>
        </event-block>
    </events>
</c2eventsheet>
